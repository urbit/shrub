/@  meta-diff
/-  su=shrub-utils
^-  kook:neo
|%
++  state  pro/%tags  ::(set @tas)
++  poke   (sy %meta-diff ~)
++  kids  ::*kids:neo
  :+  ~  %y
  %-  ~(gas by *lads:neo)
  :~  :-  &
    [pro/%tags (sy %meta-diff ~)]
  ==
++  deps  *deps:neo
++  form
  ^-  form:neo
  |_  [=bowl:neo =aeon:neo =pail:neo]
    ++  init
    |=  pal=(unit pail:neo)
    ^-  (quip card:neo pail:neo)
    :-  ~
    ?~  pal  
      tags/!>(~)
    =+  !<(=meta-diff q:(need pal))
    ~&  meta-diff
    ?>  ?=(%tags -.meta-diff)
    tags/!>(+.meta-diff)
    ::
    ++  poke
    |=  [=stud:neo vax=vase]
    ^-  (quip card:neo pail:neo)
    ?>  ?=(%meta-diff stud)
    ~&  kids/(kids-at-pith:su kids.bowl /)
    ~&  'got poke'
    =/  state  !<((set @tas) q.pail)
    =/  diff  !<(meta-diff vax)
    ~&  diff
    ?>  ?=(%tags -.diff)
    =/  new-state 
      %-  ~(uni in state)  +.diff
    ~&  new-state
    :_  tags/!>(new-state)
    ~
  --
--